# Lazygit Configuration
# https://github.com/jesseduffield/lazygit/blob/master/docs/Config.md

gui:
  # Show file icons (requires nerd fonts)
  showFileIcons: true
  # Use border style that looks good in terminals
  border: rounded
  # Theme
  theme:
    activeBorderColor:
      - green
      - bold
    inactiveBorderColor:
      - white
git:
  pagers:
    - colorArg: always
      # Use delta for diffs if available
      pager: delta --dark --paging=never
os:
  # Editor preset - lazygit will suspend and open nvim
  editPreset: 'nvim'
  # Override the open command (o) to:
  # 1. Reveal file in yazi (pane 1) via shell command
  # 2. Open file in nvim (pane 0)
  # 3. Switch to nvim pane
  open: 'ya emit-to $(tmux display-message -t 1 -p "#{pane_pid}") reveal "{{filename}}" && tmux send-keys -t 0 ":e {{filename}}" Enter && tmux select-pane -t 0'
  # Override the openLink command for O to use macOS open
  openLink: 'open {{link}}'
# Keybindings - vim motions are already default, but we can customize
keybinding:
  universal:
    # These are already defaults, listed for reference
    nextItem: <down>
    prevItem: <up>
    nextItem-alt: j
    prevItem-alt: k
    prevBlock: <left>
    nextBlock: <right>
    prevBlock-alt: h
    nextBlock-alt: l
    scrollLeft: H
    scrollRight: L
    scrollUpMain: <pgup>
    scrollDownMain: <pgdown>
    scrollUpMain-alt1: <c-u>
    scrollDownMain-alt1: <c-d>
    gotoTop: <
    gotoBottom: ">"
# Custom commands for tmux integration
customCommands:
  # Open file with macOS open (system default app)
  - key: 'O'
    context: 'files'
    command: 'open "$(git rev-parse --show-toplevel)/{{.SelectedFile.Name}}"'
    description: 'Open with system default app'
  - key: 'O'
    context: 'commitFiles'
    command: 'open "$(git rev-parse --show-toplevel)/{{.SelectedCommitFile.Name}}"'
    description: 'Open with system default app'
  # Copy paths (matching yazi keybindings)
  - key: 'Y'
    context: 'files'
    prompts:
      - type: 'menu'
        title: 'Copy path'
        options:
          - name: 'relative'
            value: 'relative'
            description: 'Copy relative path'
            key: 'r'
          - name: 'absolute'
            value: 'absolute'
            description: 'Copy absolute path'
            key: 'a'
          - name: 'filename'
            value: 'filename'
            description: 'Copy filename only'
            key: 'n'
    command: |
      {{if eq (index .PromptResponses 0) "relative"}}
        echo -n "{{.SelectedFile.Name}}" | pbcopy
      {{else if eq (index .PromptResponses 0) "absolute"}}
        echo -n "$(git rev-parse --show-toplevel)/{{.SelectedFile.Name}}" | pbcopy
      {{else}}
        echo -n "$(basename "{{.SelectedFile.Name}}")" | pbcopy
      {{end}}
    description: 'Copy path to clipboard'
